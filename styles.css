/* -- MORANDI PALETTE -- */
:root {
  --m-rose: #ae6c79;
  --m-mauve: #a68fa8;
  --m-green: #7b917a;
  --m-blue: #7a89b8;
  --m-taupe: #a39385;
  --m-grey: #bfc0c0;
  --bg: #f7f6f4;
  --panel: #fff;
  --text: #291a1a;
  --muted: #79646a;
  --border: #dacdcb;
  --shadow: 0 2px 12px rgba(100,30,30,0.11);
  --accent: var(--m-rose);
  --accent-2: var(--m-blue);
  --accent-3: var(--m-mauve);
}
.dark {
  --bg: #2a2430;
  --panel: #372537;
  --text: #f9f7fa;
  --muted: #b3a6ba;
  --border: #594c54;
  --shadow: 0 2px 14px rgba(40,20,40,0.17);
  --accent: #db9798;
  --accent-2: #ada9dc;
  --accent-3: #98a886;
}
* { box-sizing: border-box; }
body { background: var(--bg); color: var(--text); font-family: system-ui, Arial, sans-serif; margin:0;}
/* ========== GRILLA ESCRITORIO ========== */
.courses-grid.view-ciclos{ display: grid; grid-template-columns: repeat(2,minmax(0,1fr)); gap:16px;}
.courses-grid.view-anos{ display: grid; grid-template-columns: repeat(1,minmax(0,1fr)); gap:16px;}
.courses-grid.view-compacta{ display: grid; grid-template-columns: repeat(3,minmax(0,1fr)); gap:12px;}
.group-card { background: var(--panel); border:1px solid var(--border); border-radius:14px; box-shadow: var(--shadow); padding: 12px;}
.group-header{ display:flex; justify-content:space-between; margin-bottom: 8px; border-bottom:1px dashed var(--border);}
.group-body { display:grid; gap:10px; grid-template-columns: repeat(2,minmax(0,1fr)); }
/* ========== Responsive para m√≥vil ========== */
@media (max-width:991px){
  .courses-grid.view-ciclos,
  .courses-grid.view-compacta { grid-template-columns:1fr !important; gap:13px !important;}
  .group-body { grid-template-columns:1fr !important; }
  .sidebar { width:88vw; max-width:350px; left:0; top:0; height:100vh; z-index:1000; position: fixed;}
  .sidebar.open { transform:translateX(0);}
  .hamburger { display:inline-flex; position:fixed; top:14px; left:14px; z-index:1100;}
  .page-header, .chart-container, main { margin-left:0!important; padding-left:16px!important; padding-right:16px!important;}
  .overlay { position:fixed; inset:0; background:rgba(0,0,0,.36); opacity:0; pointer-events:none; z-index:900;}
  .overlay.active{ opacity:1; pointer-events:auto;}
}
@media (min-width:992px){
  .sidebar{ position:fixed; width:300px; min-width:220px;}
  .hamburger{ display:none !important;}
  .overlay{ display:none !important;}
  .page-header, .chart-container, main { margin-left:320px !important;}
}
/* ========== Tarjeta curso y botones ========== */
.course-card{ background:var(--panel); border:1px solid var(--border); border-radius:12px; box-shadow:var(--shadow); padding:10px; transition:transform 0.08s;}
.course-card:hover{ transform:translateY(-2px);}
.course-header{display:flex; justify-content:space-between; gap:8px;}
.badge { font-size:13px; font-weight:700; display:inline-block; padding:7px 14px; border-radius:999px; border:1.5px solid var(--border);}
.badge.completed{ background:#e7f9ee; color:#377441; border-color:var(--m-green);}
.badge.available{ background:#e6ecfa; color:#485ea7; border-color:var(--m-blue);}
.badge.blocked{ background:#f4e3e3; color:#ae6c79; border-color:var(--m-rose);}
.approve-btn{ background:var(--accent); color:#fff; border-radius:10px; border:none; font-weight:700; padding:9px 18px; min-width:64px;}
.approve-btn.completed{ background:#377441;}
.approve-btn.blocked{ background:#f4e3e3; color:#ae6c79; cursor:not-allowed;}
.approve-btn:hover:not(.blocked){ background:var(--accent-2);}
.course-extra{ font-size:12px; color:var(--muted); margin-top:6px; }
/* ========== Botones y controles del sidebar ========== */
.view-btn, .filter-btn, .toggle-btn, .action-btn, .icon-btn, .hamburger{ min-height:48px; min-width:48px; padding:10px 14px; border-radius:12px; font-size:15px; font-weight:600;}
.view-btn.active, .filter-btn.active, .toggle-btn[aria-pressed="true"]{ background:var(--accent-3); color:#131b28; border:none;}
.filter-btn.active{ background:var(--accent-2); color:#fff;}
.action-btn.danger{ background:#c84c4c; color:#fff;}
.switch-label{ color:var(--accent-2); font-weight:bold;}
/* ========== Header y chart ========== */
.page-header, .chart-container, main{ background: var(--panel);}
.chart-header h3{ color:var(--accent-2); font-size:18px;}
.chart-box { width:100%; max-width:960px;}
.chart-box canvas { background:var(--panel); border:1px solid var(--border); border-radius:12px; width:100%!important; height:250px!important;}
.stats{ display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:12px;}
.stat-item{ display:flex; gap:12px; align-items:center; background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:12px;box-shadow:var(--shadow);}
.progress-bar-container{ width:100%; height:10px; background:var(--border); border-radius:999px; border:1px solid var(--border);}
.progress-bar{ width:0%; height:100%; background:linear-gradient(90deg,var(--accent),var(--accent-2)); transition:width .3s;}
.year-progress{ display:grid; gap:8px; grid-template-columns:repeat(5,minmax(0,1fr));margin-top:16px;}
.year-chip{ background:var(--panel); border:1px solid var(--border); border-radius:10px; padding:8px 10px;}
.year-chip-title{ font-size:13px; color:var(--muted); margin-bottom:6px;}
.year-chip-bar{ width:100%; height:8px; background:var(--border); border-radius:999px;}
.year-chip-fill{ height:100%; background:var(--accent-3); transition:width .3s;}
.legend{ display:flex; gap:12px; align-items:center; margin-top:12px; color:var(--muted);}
.legend-item{ padding:6px 10px; border-radius:999px; border:1px solid var(--border);}
.legend-item.completed{ background:#e7f9ee; color:#377441;}
.legend-item.available{ background:#e6ecfa; color:#485ea7;}
.legend-item.blocked{ background:#f4e3e3; color:#ae6c79;}
/* Otros detalles: modals, overlays, inputs, etc */
.modal{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,0.38); z-index:300;}
.modal.show{ display:flex;}
.modal-content{ width:min(920px,92vw); background:var(--panel); color:var(--text); border:1px solid var(--border); border-radius:14px; max-height:85vh;overflow:auto;}
.electivos-grid{ display:grid; gap:10px; padding:14px; grid-template-columns:repeat(3,minmax(0,1fr));}
.electivo-option{ border:1px dashed var(--border);border-radius:10px;padding:10px;background:var(--panel);cursor:pointer;}
.electivo-option:hover{ background:var(--m-grey);}
#confettiCanvas{ position:fixed; inset:0; pointer-events:none; z-index:400;}
#searchInput{ width:100%; padding:11px 13px; border-radius:10px; border:1.5px solid var(--accent-3); background:var(--panel);color:var(--text);box-shadow:var(--shadow);}
#searchInput:focus { border-color: var(--accent-2);}
.switch{ display:inline-flex; align-items:center; gap:10px; cursor:pointer; user-select:none;}
.switch input{ display:none;}
.slider{ position:relative; width:44px; height:24px; background:var(--border); border-radius:999px;}
.slider::after{ content:""; position:absolute; top:2px; left:2px; width:20px; height:20px; background:var(--panel); border-radius:50%; box-shadow:var(--shadow); transition:transform .2s;}
.switch input:checked + .slider::after{ transform:translateX(20px);}
.icon-btn svg path, .icon-btn svg rect{ stroke:var(--text); fill:none;}
.hamburger svg rect{ fill:var(--accent-3);}
main, .chart-container, .courses-grid, .group-body{ min-width:0;}
.course-code, .course-credits, .course-name{ word-wrap: break-word; overflow-wrap: anywhere;}
